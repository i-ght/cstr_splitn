tried to write splitn from rust in C
it looks like it may work somewhat
